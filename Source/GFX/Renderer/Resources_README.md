# How to write shaders?
There is no custom shader language for GFX right now, so you have to use languages like SPIR-V, GLSL etc. I had some issues integrating run-time GLSL->SPIR-V libraries in Turan Engine, so I only used SPIR-V in this project (Used GLSLang in Content folder to convert GLSL->SPIR-V). If you are using GLSL and Vulkan, you can follow below.

Shader Input = Vulkan Descriptor. Descriptor Set 0 is for global buffers and there is at least one global buffer in all applications (if you don't create any global buffer, Vulkan backend will automatically create one). Descriptor Set 1 is for global textures and there is at least one again. When you create a global buffer, you specify its binding index and if you are gonna use it in your shader, you should specify the same value there too!

Shader Inputs are in 3 categories: Global, General (Different between material types but same between material instances that are instantinated from the same material type) and Per Instance (Has different values between material instances that are instantinated from the same material type). You can have an array of buffers/textures in a descriptor in Vulkan and this is supported by specifying the number of elements in ShaderInput_Description while linking your material type.

If your shader has general shader input, they should use Descriptor Set 1. Then per instance shader inputs should use Descriptor Set 2. If your shader doesn't have any general shader input, then per instance shader inputs should use Descriptor Set 1. While describing shader inputs in ShaderInput_Description, BINDINGPOINT shouldn't exceed the number of shader inputs of the type. That means, you shouldn't use BINDINGPOINT 1 if you have only one shader input of the type (you should use BINDINGPOINT 0).

# ShaderInput Limits
Every GPU has a limit for shader inputs of every type, so you shouldn't exceed these limits (Not even close to them). If GFX API found that your GPU has Descriptor Indexing support, these limits may grow but this features affects these things on your side:
1) You can use NonUniformResourceIndex in your shaders
2) SetMaterial_xxx functions' isUsedLastFrame argument means if you accessed the shader input by material type/instance last frame (If DescriptorIndexing is not supported, it means if the material type/instance is used last frame)
3) You are able to use SetMaterial_xxx and SetGlobal_xxx functions whenever you want till you don't access them in shaders (Otherwise you have to set all global shader inputs SetGlobal_xxx before finishing constructing RenderGraph and you have to set all general/per instance shader inputs before using them first time).
4) You are able to define different texture descriptors -or descriptor arrays- with different data types/dimensions while set and binding indexes are same in shaders. Otherwise each binding index in a descriptor set should be unique to a descriptor -or descriptor array- and you can only access them with one data type/dimension.
5) Because maximum descriptor counts are very large, there is no need to allocate hundreds of thousands of descriptor. Vulkan allows unbounded arrays to be in only last binding index, so this is handled at Second Initialization Stage. In GPUSecondStage structure, you already have to fill GlobalBuffers and GlobalTextures descriptions. The ones that has binding index 1 in both descriptions are unbounded arrays and the given ElementCount is maximum allocatable descriptor count (other descriptor should have binding index 0).